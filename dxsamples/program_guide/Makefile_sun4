FILES_HELLO = userhello.o hello.o
FILES_HELLOERR = userhelloerr.o hello_errorchecking.o
FILES_HELLOOUT = outboard.o hello.o 
FILES_MAKEX = usermakex.o makex.o
FILES_MAKEXEFF = usermakexeff.o makexeff.o
FILES_ADD = useradd.o add.o
FILES_ADD2 = useradd2.o add2.o
FILES_ADD2INV = useradd2inv.o add2invalid.o
FILES_ADDPAR = useraddpar.o add_parallel.o
FILES_AVGCELL = useravgcell.o averagecell.o
FILES_AVGCELLPAR = useravgcellpar.o averagecell_parallel.o
FILES_PICK = userpick.o showpick.o
FILES_ALL = userall.o hello.o hello_errorchecking.o add.o add2.o makex.o makexeff.o averagecell.o showpick.o add_parallel.o add2invalid.o averagecell_parallel.o

BASE = /usr/lpp/dx

CC = acc

CFLAGS = -O -Dsun4 -I$(BASE)/include
LIBS       = -L$(BASE)/lib_sun4 -lDX -ly -ll -lX11 -lm -lansi
LITELIBS   = -L$(BASE)/lib_sun4 -lDXlite -lm -lansi

hello:		$(FILES_HELLO)
		$(CC) $(LDFLAGS) $(FILES_HELLO) $(LIBS) -o dxexec

hello_err:	$(FILES_HELLOERR)
		$(CC) $(LDFLAGS) $(FILES_HELLOERR) $(LIBS) -o dxexec

hello_outboard:	$(FILES_HELLOOUT)
		$(CC) $(FILES_HELLOOUT) $(LITELIBS) -o hello_outboard

hello_loadable:
		echo "runtime-loadable not available"

add:		$(FILES_ADD)
		$(CC) $(LDFLAGS) $(FILES_ADD) $(LIBS) -o dxexec

add_par:	$(FILES_ADDPAR)
		$(CC) $(LDFLAGS) $(FILES_ADDPAR) $(LIBS) -o dxexec

add2:		$(FILES_ADD2)
		$(CC) $(LDFLAGS) $(FILES_ADD2) $(LIBS) -o dxexec

add2_inv:	$(FILES_ADD2INV)
		$(CC) $(LDFLAGS) $(FILES_ADD2INV) $(LIBS) -o dxexec

makex:		$(FILES_MAKEX)
		$(CC) $(LDFLAGS) $(FILES_MAKEX) $(LIBS) -o dxexec

makex_eff:	$(FILES_MAKEXEFF)
		$(CC) $(LDFLAGS) $(FILES_MAKEXEFF) $(LIBS) -o dxexec

avgcell:	$(FILES_AVGCELL)
		$(CC) $(LDFLAGS) $(FILES_AVGCELL) $(LIBS) -o dxexec

avgcell_2:	$(FILES_AVGCELL2)
		$(CC) $(LDFLAGS) $(FILES_AVGCELL2) $(LIBS) -o dxexec

avgcell_par:	$(FILES_AVGCELLPAR)
		$(CC) $(LDFLAGS) $(FILES_AVGCELLPAR) $(LIBS) -o dxexec

showpick:	$(FILES_PICK)
		$(CC) $(LDFLAGS) $(FILES_PICK) $(LIBS) -o dxexec

all:		$(FILES_ALL)
		$(CC) $(LDFLAGS) $(FILES_ALL) $(LIBS) -o dxexec



# how to make the outboard main routine - the source is in $(DXROOT)/lib
outboard.o:
	$(CC) $(CFLAGS) -DUSERMODULE=m_Hello -c $(BASE)/lib/outboard.c


# make the user files
userhello.c:		hello.mdf
			mdf2c hello.mdf > userhello.c

userhelloerr.c:		helloerr.mdf
			mdf2c helloerr.mdf > userhelloerr.c

useradd.c:		add.mdf
			mdf2c add.mdf >useradd.c

useradd2.c:		add2.mdf
			mdf2c add2.mdf >useradd2.c

useradd2inv.c:		add2inv.mdf
			mdf2c add2inv.mdf >useradd2inv.c

useraddtypes.c:		addtypes.mdf
			mdf2c addtypes.mdf >useraddtypes.c

usermakex.c:		makex.mdf
			mdf2c makex.mdf >usermakex.c

usermakexeff.c:		makexeff.mdf
			mdf2c makexeff.mdf >usermakexeff.c

useravgcell.c:		averagecell.mdf
			mdf2c averagecell.mdf >useravgcell.c

useravgcell2.c:		averagecell2.mdf
			mdf2c averagecell2.mdf >useravgcell2.c

useravgcellpar.c:	averagecellpar.mdf
			mdf2c averagecellpar.mdf >useravgcellpar.c

useraddpar.c:		addpar.mdf
			mdf2c addpar.mdf >useraddpar.c

userpick.c:		showpick.mdf
			mdf2c showpick.mdf >userpick.c

userall.c:		all.mdf
			mdf2c all.mdf >userall.c

