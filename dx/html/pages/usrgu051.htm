<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 3//EN">
<HTML><HEAD>
<TITLE>IBM Visualization Data Explorer User&#39;s Guide</TITLE>

<META HTTP-EQUIV="abstract" CONTENT="IBM Visualization Data Explorer User&#39;s
Guide">
<META HTTP-EQUIV="contact" CONTENT="IBM Visualization Data Explorer
(ibmdx@watson.ibm.com)">
<META HTTP-EQUIV="owner" CONTENT="IBM Visualization Data Explorer
(ibmdx@watson.ibm.com)">
<META HTTP-EQUIV="updated" CONTENT="Tue, 16 Sep 1997 ">
<META HTTP-EQUIV="review" CONTENT="Fri, 14 Aug 1998 ">

<META HTTP-EQUIV="keywords" CONTENT="GRAPHICS VISUALIZATION VISUAL PROGRAM DATA
MINING">
</HEAD><BODY BGCOLOR="#FFFFFF">

<A NAME="Top_Of_Page"></A>
<H1>IBM Visualization Data Explorer User&#39;s Guide</H1>
<B>&#91; <A HREF="#Bot_Of_Page">Bottom of Page</A> &#124; <A
HREF="usrgu050.htm">Previous Page</A> &#124; <A HREF="usrgu052.htm">Next
Page</A> &#124; <A HREF="../usrguide.htm#ToC">Table of Contents</A> &#124; <A
HREF="usrgu050.htm#PToC13">Partial Table of Contents</A> &#124; <A
HREF="usrgu077.htm#HDRINDEX_START">Index</A> &#93;</B><HR><P>
<HR>
<H2><A NAME="HDRBASELM" HREF="usrgu050.htm#PToC_314">10.2 Understanding the
Script Structure</A></H2>
<P>
The following example illustrate some of the more important
characteristics of scripts;
a detailed description of each of the elements follows.
However, you may prefer to simply study these examples (and perhaps
those in /usr/lpp/dx/samples/scripts) and then begin writing your
own scripts.
<P>
<H4><A NAME="Header_315">Example 1. A Simple Script</A></H4>
<P>
In this example, the data found in /usr/...cloudwater is imported and
assigned to the variable <TT><STRONG>data</STRONG></TT>.
Then the Isosurface module is called on <TT><STRONG>data</STRONG></TT> (with
no other parameters set)  and the result is assigned to
<TT><STRONG>iso</STRONG></TT>.
A Camera is created using AutoCamera, and the isosurface is displayed
using Display (note that the Image tool is not available in the
scripting language.
<PRE>
data = Import("/usr/lpp/dx/samples/data/cloudwater");
iso = Isosurface(data);
camera = AutoCamera(iso);
Display(iso, camera);
</PRE>
<P>
<H4><A NAME="Header_316">Example 2. Setting Parameters</A></H4>
<P>
Suppose that in the previous example we wished to set the Isosurface
"number" to 3.
<TT><STRONG>number</STRONG></TT> is the third parameter to Isosurface.
We can replace the second line of the script in Example 1 with:
<PRE>
iso = Isosurface(data, NULL, 3);
</PRE>
or, alternatively,
<PRE>
iso = Isosurface(data, number=3);
</PRE>
<P>
<H4><A NAME="Header_317">Example 3. Using a Macro</A></H4>
<P>
It is possible to create and use macros in the scripting language.
A macro is defined using the keyword "macro," as in
the following example.
<PRE>
macro make_iso(data, isovalue) -&gt; (isosurface)
{
   isosurface = Isosurface(data, isovalue);
}
</PRE>
To use the macro, simply call it with the required parameters:
<PRE>
iso1 = make_iso(data, 0.1);
iso2 = make_iso(data, 0.2);
...
</PRE>
<P>
A macro can have as many inputs or outputs as desired.
Note that it is not necessary to pass parameters into a macro; the
parameters will be found in the environment outside of the macro
if necessary.
However, it <I>is</I> necessary to pass any parameters
<I>out</I> of the macro that are intended to be used
outside of the macro.
<P>
<H4><A NAME="Header_318">Example 4. Using Route in the Script Language</A></H4>
<P>
The Route module is used to choose between different destinations for
a particular object.
For example, you could choose to either write an image to a file or
display the image to the screen.
<P>
In order to use Route in a script, the Route module and the tools that
consume the outputs of Route must be contained in a macro.
<PRE>
data = Import("/usr/lpp/dx/samples/data/cloudwater");
iso = Isosurface(data);
camera = Autocamera(iso);
image= Render(iso, camera);
macro do_which(which, image)
{
   image_to_display, image_to_write = Route(which, image);
   Display(image_to_display);
   WriteImage(image_to_write);
}
do_which(1, image);
</PRE>
<P>
The call to the macro do_which with a value of 1 causes the first output
branch (Display) to be executed.
WriteImage is <I>not</I> executed.
If do_which had been called with a value of 2, however, then WriteImage
(and not Display) would have been executed.
<P>
<H4><A NAME="Header_319">Example 5. Using the Sequencer</A></H4>
<P>
You can use the Sequencer in script mode.
The special variables you use are:
<TABLE CELLPADDING="3">
<TR VALIGN="TOP"><TD><P><B>@startframe
</B></TD><TD><P>the starting integer of the sequence
</TD></TR><TR VALIGN="TOP"><TD><P><B>@endframe
</B></TD><TD><P>the ending integer of the sequence
</TD></TR><TR VALIGN="TOP"><TD><P><B>@deltaframe
</B></TD><TD><P>the increment between frames (default = 1)
</TD></TR><TR VALIGN="TOP"><TD><P><B>@frame
</B></TD><TD><P>contains the sequence number of the current frame.
</TD></TR></TABLE>
The keyword "sequence" identifies the macro that will be run each
time @frame is incremented, and the keyword "play" will start
the sequence.
<P>
The following script will call the macro "doit" with the values
0, 2, 4, 6, 8, 10:
<PRE>
@startframe =0;
@endframe =10;
@deltaframe =2;
macro doit(i)
{
   Echo(i);
}
sequence doit(@frame);
play;
</PRE>
<P><HR><B>&#91; <A HREF="#Top_Of_Page">Top of Page</A> &#124; <A
HREF="usrgu050.htm">Previous Page</A> &#124; <A HREF="usrgu052.htm">Next
Page</A> &#124; <A HREF="../usrguide.htm#ToC">Table of Contents</A> &#124; <A
HREF="usrgu050.htm#PToC13">Partial Table of Contents</A> &#124; <A
HREF="usrgu077.htm#HDRINDEX_START">Index</A> &#93;</B> <br><b>&#91;<a
href="../allguide.htm">Data Explorer Documentation</a>&nbsp;&#124;&nbsp;<a
href="../qikguide.htm">QuickStart Guide</a>&nbsp;&#124;&nbsp;<a
href="../usrguide.htm">User&#39;s Guide</a>&nbsp;&#124;&nbsp;<a
href="../refguide.htm">User&#39;s Reference</a>&nbsp;&#124;&nbsp;<a
href="../proguide.htm">Programmer&#39;s Reference</a>&nbsp;&#124;&nbsp;<a
href="../insguide.htm">Installation and Configuration
Guide</a>&nbsp;&#93;</b><br><p><b>&#91;<a
href="http://www.almaden.ibm.com/dx/">Data Explorer Home
Page</a>&nbsp;&#124;&nbsp;<a
href="http://www.almaden.ibm.com/dx/DXMailForm.html">Contact Data
Explorer</a>&nbsp;&#124;&nbsp;<a
href="http://www.almaden.ibm.com/dx/docs/html/usrguide.htm">Same document on
Data Explorer Home Page</a>&nbsp;&#93;</b><p><HR ALIGN=LEFT WIDTH=600><b>&#91;<A
HREF="http://www.ibm.com/">IBM Home Page</A>&nbsp;&#124;&nbsp;<A
HREF="http://www.ibm.com/Orders/">Order</A>&nbsp;&#124;&nbsp;<A
HREF="http://www.ibm.com/Search/">Search</A>&nbsp;&#124;&nbsp;<A
HREF="http://www.ibm.com/Assist/">Contact IBM</A>&nbsp;&#124;&nbsp;<A
HREF="http://www.ibm.com/Legal/">Legal</A>&nbsp;&#93;</b><hr><p>
<A NAME="Bot_Of_Page"></A>
</BODY></HTML>
